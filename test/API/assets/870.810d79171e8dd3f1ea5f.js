(self.webpackChunkangular=self.webpackChunkangular||[]).push([[870],{870:(r,o,t)=>{"use strict";t.r(o),t.d(o,{VisitorModule:()=>C});var e=t(116),n=t(319),i=t(462),s=t(619),c=t(529),a=t(693);let l=(()=>{class r{constructor(r,o){this._http=r,this._router=o,this.apiUrl=c.N.APIURL}signup(r){return this._http.post(this.apiUrl+"/api/visitor",r)}doLogIn(r){return this._http.post(this.apiUrl+"/api/visitor/login",r)}LoggedIn(){return!!localStorage.getItem("visitortoken")}LoggedOut(){localStorage.removeItem("visitortoken"),this._router.navigate(["/login"])}}return r.\u0275fac=function(o){return new(o||r)(s.LFG(a.eN),s.LFG(n.F0))},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function u(r,o){1&r&&(s.TgZ(0,"div"),s._uU(1," insert your email "),s.qZA())}function g(r,o){1&r&&(s.TgZ(0,"div"),s._uU(1," Check your email "),s.qZA())}function p(r,o){if(1&r&&(s.TgZ(0,"div",15),s.YNc(1,u,2,0,"div",16),s.YNc(2,g,2,0,"div",16),s.qZA()),2&r){const r=s.oxw();s.xp6(1),s.Q6J("ngIf",r.loginForm.controls.email.errors.required),s.xp6(1),s.Q6J("ngIf",r.loginForm.controls.email.errors.email)}}function d(r,o){1&r&&(s.TgZ(0,"div",15),s._uU(1," insert your password "),s.qZA())}const m=function(r){return{"is-invalid":r}};let Z=(()=>{class r{constructor(r,o,t){this._fb=r,this._router=o,this._visitserv=t,this.checkForm=!1,this.errmsg="",this.loginForm=this._fb.group({email:["",[i.kI.required,i.kI.email]],password:["",i.kI.required]})}ngOnInit(){}submit(){this.loginForm.invalid&&(this.checkForm=!0),this._visitserv.doLogIn(this.loginForm.value).subscribe(r=>{console.log(r),localStorage.setItem("visitortoken",r.token),this.loginForm.reset(),this._router.navigate(["/myaccount"])},r=>{1==r.error.type&&(this.errmsg="Incorrect email/userame & password"),2==r.error.type&&(this.errmsg="Incorrect password")})}}return r.\u0275fac=function(o){return new(o||r)(s.Y36(i.qu),s.Y36(n.F0),s.Y36(l))},r.\u0275cmp=s.Xpm({type:r,selectors:[["app-login"]],decls:24,vars:10,consts:[[1,"container"],[1,"row"],[1,"col-md-8","offset-2"],[3,"formGroup"],[1,"card","text-white",2,"background-color","#080303"],[1,"card-header"],[1,"text-center"],[1,"card-body"],[1,"form-group"],["formControlName","email","type","text","placeholder","Email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","password","type","password","placeholder","password",1,"form-control",3,"ngClass"],[1,"text-danger"],[1,"card-footer"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(r,o){1&r&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"form",3),s.TgZ(4,"div",4),s.TgZ(5,"div",5),s.TgZ(6,"h3",6),s._uU(7,"Login"),s.qZA(),s.qZA(),s.TgZ(8,"div",7),s.TgZ(9,"div",8),s.TgZ(10,"label"),s._uU(11,"Email/Username"),s.qZA(),s._UZ(12,"input",9),s.YNc(13,p,3,2,"div",10),s.qZA(),s.TgZ(14,"div",8),s.TgZ(15,"label"),s._uU(16,"password"),s.qZA(),s._UZ(17,"input",11),s.YNc(18,d,2,0,"div",10),s.qZA(),s.TgZ(19,"p",12),s._uU(20),s.qZA(),s.qZA(),s.TgZ(21,"div",13),s.TgZ(22,"button",14),s.NdJ("click",function(){return o.submit()}),s._uU(23,"signup"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&r&&(s.xp6(3),s.Q6J("formGroup",o.loginForm),s.xp6(9),s.Q6J("ngClass",s.VKq(6,m,o.loginForm.controls.email.errors&&o.checkForm)),s.xp6(1),s.Q6J("ngIf",o.loginForm.controls.email.errors),s.xp6(4),s.Q6J("ngClass",s.VKq(8,m,o.loginForm.controls.password.errors&&o.checkForm)),s.xp6(1),s.Q6J("ngIf",o.loginForm.controls.password.errors),s.xp6(2),s.Oqu(o.errmsg))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,e.mk,e.O5],styles:[""]}),r})(),v=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=s.Xpm({type:r,selectors:[["app-myaccount"]],decls:0,vars:0,template:function(r,o){},styles:[""]}),r})();function f(r,o){1&r&&(s.TgZ(0,"div",17),s._uU(1," insert your full name "),s.qZA())}function h(r,o){1&r&&(s.TgZ(0,"div"),s._uU(1," insert your email "),s.qZA())}function q(r,o){1&r&&(s.TgZ(0,"div"),s._uU(1," Check your email "),s.qZA())}function _(r,o){if(1&r&&(s.TgZ(0,"div",17),s.YNc(1,h,2,0,"div",18),s.YNc(2,q,2,0,"div",18),s.qZA()),2&r){const r=s.oxw();s.xp6(1),s.Q6J("ngIf",r.regForm.controls.email.errors.required),s.xp6(1),s.Q6J("ngIf",r.regForm.controls.email.errors.email)}}function A(r,o){1&r&&(s.TgZ(0,"div",17),s._uU(1," insert your password "),s.qZA())}function k(r,o){1&r&&(s.TgZ(0,"div"),s._uU(1," Insert Your Re-Password "),s.qZA())}function T(r,o){if(1&r&&(s.TgZ(0,"div",17),s.YNc(1,k,2,0,"div",18),s.qZA()),2&r){const r=s.oxw();s.xp6(1),s.Q6J("ngIf",r.regForm.controls.re_password.errors.required)}}const F=function(r){return{"is-invalid":r}};let w=(()=>{class r{constructor(r,o,t){this._fb=r,this._router=o,this._visitserv=t,this.checkForm=!1,this.regForm=this._fb.group({fullname:["",i.kI.required],email:["",[i.kI.required,i.kI.email]],password:["",i.kI.required],re_password:["",i.kI.required]})}ngOnInit(){}submit(){this.regForm.invalid&&(this.checkForm=!0),this._visitserv.signup(this.regForm.value).subscribe(r=>{console.log(r),this.regForm.reset(),this._router.navigate(["/login"])})}}return r.\u0275fac=function(o){return new(o||r)(s.Y36(i.qu),s.Y36(n.F0),s.Y36(l))},r.\u0275cmp=s.Xpm({type:r,selectors:[["app-signup"]],decls:34,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-md-8","offset-2"],[3,"formGroup"],[1,"card","text-white",2,"background-color","#080303"],[1,"card-header"],[1,"text-center"],["routerLink","/user",2,"height","10px","width","10px"],[1,"card-body"],[1,"form-group"],["formControlName","fullname","type","text","placeholder","full name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","email","type","text","placeholder","Email",1,"form-control",3,"ngClass"],["formControlName","password","type","password","placeholder","password",1,"form-control",3,"ngClass"],["formControlName","re_password","type","password","placeholder","Re-Password",1,"form-control",3,"ngClass"],[1,"card-footer"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(r,o){1&r&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"form",3),s.TgZ(4,"div",4),s.TgZ(5,"div",5),s.TgZ(6,"h3",6),s._uU(7,"Signup Form"),s.qZA(),s._UZ(8,"a",7),s.qZA(),s.TgZ(9,"div",8),s.TgZ(10,"div",9),s.TgZ(11,"label"),s._uU(12,"Full Name"),s.qZA(),s._UZ(13,"input",10),s.YNc(14,f,2,0,"div",11),s.qZA(),s.TgZ(15,"div",9),s.TgZ(16,"label"),s._uU(17,"Email"),s.qZA(),s._UZ(18,"input",12),s.YNc(19,_,3,2,"div",11),s.qZA(),s.TgZ(20,"div",9),s.TgZ(21,"label"),s._uU(22,"password"),s.qZA(),s._UZ(23,"input",13),s.YNc(24,A,2,0,"div",11),s.qZA(),s.TgZ(25,"div",9),s.TgZ(26,"label"),s._uU(27,"Re-Password"),s.qZA(),s._UZ(28,"input",14),s.YNc(29,T,2,1,"div",11),s.qZA(),s._UZ(30,"br"),s.qZA(),s.TgZ(31,"div",15),s.TgZ(32,"button",16),s.NdJ("click",function(){return o.submit()}),s._uU(33,"signup"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&r&&(s.xp6(3),s.Q6J("formGroup",o.regForm),s.xp6(10),s.Q6J("ngClass",s.VKq(9,F,o.regForm.controls.fullname.errors&&o.checkForm)),s.xp6(1),s.Q6J("ngIf",o.regForm.controls.fullname.errors),s.xp6(4),s.Q6J("ngClass",s.VKq(11,F,o.regForm.controls.email.errors&&o.checkForm)),s.xp6(1),s.Q6J("ngIf",o.regForm.controls.email.errors),s.xp6(4),s.Q6J("ngClass",s.VKq(13,F,o.regForm.controls.password.errors&&o.checkForm)),s.xp6(1),s.Q6J("ngIf",o.regForm.controls.password.errors),s.xp6(4),s.Q6J("ngClass",s.VKq(15,F,o.regForm.controls.re_password.errors&&o.checkForm)),s.xp6(1),s.Q6J("ngIf",o.regForm.controls.re_password.errors&&o.checkForm))},directives:[i._Y,i.JL,i.sg,n.yS,i.Fj,i.JJ,i.u,e.mk,e.O5],styles:[""]}),r})();function I(r,o){if(1&r){const r=s.EpF();s.TgZ(0,"li",5),s.TgZ(1,"a",6),s._uU(2,"MyAccount"),s.qZA(),s.qZA(),s.TgZ(3,"li",5),s.TgZ(4,"a",7),s.NdJ("click",function(){return s.CHM(r),s.oxw()._visitserv.LoggedOut()}),s._uU(5,"Logout"),s.qZA(),s.qZA()}}function b(r,o){1&r&&(s.TgZ(0,"li",5),s.TgZ(1,"a",8),s._uU(2,"Login"),s.qZA(),s.qZA(),s.TgZ(3,"li",5),s.TgZ(4,"a",9),s._uU(5,"Signup"),s.qZA(),s.qZA())}let y=(()=>{class r{constructor(r){this._visitserv=r}ngOnInit(){}}return r.\u0275fac=function(o){return new(o||r)(s.Y36(l))},r.\u0275cmp=s.Xpm({type:r,selectors:[["app-header"]],decls:7,vars:2,consts:[[1,"navbar","navbar-expand-sm","bg-dark","navbar-dark"],["href","#",1,"navbar-brand"],[1,"navbar-nav"],[3,"ngIf","ngIfElse"],["logout",""],[1,"nav-item"],["routerLink","/myaccount",1,"nav-link"],["routerLink","#",1,"nav-link",3,"click"],["routerLink","/login",1,"nav-link"],["routerLink","/",1,"nav-link"]],template:function(r,o){if(1&r&&(s.TgZ(0,"nav",0),s.TgZ(1,"a",1),s._uU(2,"Logo"),s.qZA(),s.TgZ(3,"ul",2),s.YNc(4,I,6,0,"ng-template",3),s.YNc(5,b,6,0,"ng-template",null,4,s.W1O),s.qZA(),s.qZA()),2&r){const r=s.MAs(6);s.xp6(4),s.Q6J("ngIf",o._visitserv.LoggedIn())("ngIfElse",r)}},directives:[e.O5,n.yS],styles:[""]}),r})(),U=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=s.Xpm({type:r,selectors:[["app-visitor"]],decls:3,vars:0,consts:[[1,"abc",2,"min-height","650Px"]],template:function(r,o){1&r&&(s._UZ(0,"app-header"),s.TgZ(1,"div",0),s._UZ(2,"router-outlet"),s.qZA())},directives:[y,n.lC],styles:[""]}),r})(),x=(()=>{class r{constructor(r,o){this._visitserv=r,this._router=o}canActivate(){return this._visitserv.LoggedIn()||this._router.navigate(["/login"]),!0}}return r.\u0275fac=function(o){return new(o||r)(s.LFG(l),s.LFG(n.F0))},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),J=(()=>{class r{constructor(r,o){this._visitserv=r,this._router=o}canActivate(){return!this._visitserv.LoggedIn()||(this._router.navigate(["/myaccount"]),!1)}}return r.\u0275fac=function(o){return new(o||r)(s.LFG(l),s.LFG(n.F0))},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const L=[{path:"",component:U,children:[{path:"",component:w,canActivate:[J]},{path:"login",component:Z,canActivate:[J]},{path:"myaccount",component:v,canActivate:[x]}]}];let Y=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({imports:[[n.Bz.forChild(L)],n.Bz]}),r})(),C=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({imports:[[e.ez,Y,a.JF,i.UX]]}),r})()}}]);