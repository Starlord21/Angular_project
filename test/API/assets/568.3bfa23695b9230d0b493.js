(self.webpackChunkangular=self.webpackChunkangular||[]).push([[568],{568:(t,e,r)=>{"use strict";r.r(e),r.d(e,{UserModule:()=>J});var n=r(116),o=r(319),s=r(462),i=r(619),a=r(529),c=r(693);let l=(()=>{class t{constructor(t,e){this._http=t,this._router=e,this.apiUrl=a.N.APIURL}doLogIn(t){return this._http.post(this.apiUrl+"/api/userauth/login",t)}LoggedIn(){return!!localStorage.getItem("usertoken")}LoggedOut(){localStorage.removeItem("usertoken"),this._router.navigate(["/user"])}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(c.eN),i.LFG(o.F0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function u(t,e){1&t&&(i.TgZ(0,"div"),i._uU(1," insert your username "),i.qZA())}function d(t,e){if(1&t&&(i.TgZ(0,"div",15),i.YNc(1,u,2,0,"div",16),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",t.loginForm.controls.username.errors.required)}}function g(t,e){1&t&&(i.TgZ(0,"div",15),i._uU(1," insert your password "),i.qZA())}const p=function(t){return{"is-invalid":t}};let f=(()=>{class t{constructor(t,e,r){this._fb=t,this._router=e,this._loginauth=r,this.checkForm=!1,this.errmsg="",this.loginForm=this._fb.group({username:["",s.kI.required],password:["",s.kI.required]})}ngOnInit(){}submit(){this.loginForm.invalid&&(this.checkForm=!0),this._loginauth.doLogIn(this.loginForm.value).subscribe(t=>{console.log(t),localStorage.setItem("usertoken",t.token),this.loginForm.reset(),this._router.navigate(["/user/myaccount"])},t=>{1==t.error.type&&(this.errmsg="Incorrect userame & password"),2==t.error.type&&(this.errmsg="Incorrect password")})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(s.qu),i.Y36(o.F0),i.Y36(l))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-login"]],decls:24,vars:10,consts:[[1,"container"],[1,"row"],[1,"col-md-8","offset-2"],[3,"formGroup"],[1,"card","text-white",2,"background-color","#080303"],[1,"card-header"],[1,"text-center"],[1,"card-body"],[1,"form-group"],["formControlName","username","type","text","placeholder","username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","password","type","password","placeholder","password",1,"form-control",3,"ngClass"],[1,"text-danger"],[1,"card-footer"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"form",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i.TgZ(6,"h3",6),i._uU(7," User Login"),i.qZA(),i.qZA(),i.TgZ(8,"div",7),i.TgZ(9,"div",8),i.TgZ(10,"label"),i._uU(11,"Username"),i.qZA(),i._UZ(12,"input",9),i.YNc(13,d,2,1,"div",10),i.qZA(),i.TgZ(14,"div",8),i.TgZ(15,"label"),i._uU(16,"password"),i.qZA(),i._UZ(17,"input",11),i.YNc(18,g,2,0,"div",10),i.qZA(),i.TgZ(19,"p",12),i._uU(20),i.qZA(),i.qZA(),i.TgZ(21,"div",13),i.TgZ(22,"button",14),i.NdJ("click",function(){return e.submit()}),i._uU(23,"signup"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(3),i.Q6J("formGroup",e.loginForm),i.xp6(9),i.Q6J("ngClass",i.VKq(6,p,e.loginForm.controls.username.errors&&e.checkForm)),i.xp6(1),i.Q6J("ngIf",e.loginForm.controls.username.errors),i.xp6(4),i.Q6J("ngClass",i.VKq(8,p,e.loginForm.controls.password.errors&&e.checkForm)),i.xp6(1),i.Q6J("ngIf",e.loginForm.controls.password.errors),i.xp6(2),i.Oqu(e.errmsg))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,n.mk,n.O5],styles:[""]}),t})(),Z=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-myaccount"]],decls:2,vars:0,template:function(t,e){1&t&&(i.TgZ(0,"p"),i._uU(1,"myaccount works!"),i.qZA())},styles:[""]}),t})(),h=(()=>{class t{constructor(t){this._http=t,this.apiUrl=a.N.APIURL}getTeacher(){return this._http.get(this.apiUrl+"/api/teachers")}getId(t){return this._http.get(this.apiUrl+"/api/teachers/"+t)}addteacher(t){return this._http.post(this.apiUrl+"/api/teachers",t)}delete(t){return this._http.delete(this.apiUrl+"/api/teachers/"+t)}update(t,e){return this._http.put(this.apiUrl+"/api/teachers/"+t,e)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(c.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function m(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"tr"),i.TgZ(1,"th"),i._uU(2),i.qZA(),i.TgZ(3,"th"),i._uU(4),i.qZA(),i.TgZ(5,"th"),i._uU(6),i.qZA(),i.TgZ(7,"th"),i._uU(8),i.qZA(),i.TgZ(9,"th"),i.TgZ(10,"button",21),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().delfile(e)}),i._uU(11,"Delete"),i.qZA(),i.qZA(),i.TgZ(12,"th"),i.TgZ(13,"button",22),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().editfile(e)}),i._uU(14,"Edit"),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit,r=e.index;i.xp6(2),i.Oqu(r+1),i.xp6(2),i.Oqu(t.name),i.xp6(2),i.Oqu(t.salary),i.xp6(2),i.Oqu(t.class)}}function v(t,e){1&t&&(i.TgZ(0,"div",23),i._uU(1," insert full name "),i.qZA())}function q(t,e){1&t&&(i.TgZ(0,"div",23),i._uU(1," Enter your salary "),i.qZA())}function A(t,e){if(1&t&&(i.TgZ(0,"option"),i._uU(1),i.qZA()),2&t){const t=e.index;i.xp6(1),i.Oqu(t+1)}}function _(t,e){1&t&&(i.TgZ(0,"div",23),i._uU(1," select your city "),i.qZA())}const b=function(t){return{"is-invalid":t}};let T=(()=>{class t{constructor(t,e,r){this._fb=t,this._router=e,this._teacherserv=r,this.fileInfo=[],this.checkpass=!1,this.fileForm=this._fb.group({_id:[""],name:["",s.kI.required],salary:["",s.kI.required],class:["",s.kI.required]}),this._teacherserv.getTeacher().subscribe(t=>{console.log(t),this.fileInfo=t})}counter(t){return new Array(t)}ngOnInit(){}submit(t){if(""==this.fileForm.controls._id.value){if(this.fileForm.invalid)return void(this.checkpass=!0);this._teacherserv.addteacher(this.fileForm.value).subscribe(t=>{window.location.reload()}),t.click()}else this._teacherserv.update(this.fileForm.controls._id.value,this.fileForm.value).subscribe(t=>{window.location.reload()}),t.click()}delfile(t){this._teacherserv.delete(t._id).subscribe(e=>{let r=this.fileInfo.indexOf(t);this.fileInfo.splice(r,1)})}editfile(t){this._teacherserv.getId(t._id).subscribe(t=>{this.fileForm.setValue(t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(s.qu),i.Y36(o.F0),i.Y36(h))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-teachers"]],decls:47,vars:16,consts:[[1,"container","my-5"],[1,"row","my-5"],[1,"col-md-8","offset-2"],["type","button","data-target","#addteacher","data-toggle","modal",1,"btn","btn-danger","btn-rounded","waves-effect"],[1,"table","table-dark","table-stripped","table-bordered"],[4,"ngFor","ngForOf"],["id","addteacher",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[3,"formGroup"],[1,"modal-body","bg-dark","text-white"],[1,"form-group"],["formControlName","name","type","text","placeholder","Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","salary","type","number","placeholder","salary",1,"form-control",3,"ngClass"],["formControlName","class",1,"form-control",3,"ngClass"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger","btn-rounded","waves-effect"],["closebtn",""],["type","submit",1,"btn","btn-outline-success","btn-rounded","waves-effect",3,"value","click"],["type","submit",1,"btn","btn-danger","btn-rounded","waves-effect",3,"click"],["type","submit","data-target","#addteacher","data-toggle","modal",1,"btn","btn-danger","btn-rounded","waves-effect",3,"click"],[1,"invalid-feedback"]],template:function(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"button",3),i._uU(4,"Add"),i.qZA(),i.TgZ(5,"table",4),i.TgZ(6,"tr"),i.TgZ(7,"th"),i._uU(8,"S.no"),i.qZA(),i.TgZ(9,"th"),i._uU(10,"Full name"),i.qZA(),i.TgZ(11,"th"),i._uU(12,"Salary"),i.qZA(),i.TgZ(13,"th"),i._uU(14,"class"),i.qZA(),i.TgZ(15,"th"),i._uU(16,"Delete"),i.qZA(),i.TgZ(17,"th"),i._uU(18,"Edit"),i.qZA(),i.qZA(),i.YNc(19,m,15,4,"tr",5),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(20,"div",6),i.TgZ(21,"div",7),i.TgZ(22,"div",8),i._UZ(23,"div",9),i.TgZ(24,"form",10),i.TgZ(25,"div",11),i.TgZ(26,"div",12),i.TgZ(27,"label"),i._uU(28," Name"),i.qZA(),i._UZ(29,"input",13),i.YNc(30,v,2,0,"div",14),i.qZA(),i.TgZ(31,"div",12),i.TgZ(32,"label"),i._uU(33," Salary"),i.qZA(),i._UZ(34,"input",15),i.YNc(35,q,2,0,"div",14),i.qZA(),i.TgZ(36,"div",12),i.TgZ(37,"label"),i._uU(38,"city"),i.qZA(),i.TgZ(39,"select",16),i.YNc(40,A,2,1,"option",5),i.qZA(),i.YNc(41,_,2,0,"div",14),i.qZA(),i.qZA(),i.qZA(),i.TgZ(42,"div",17),i.TgZ(43,"button",18,19),i._uU(45,"Close"),i.qZA(),i.TgZ(46,"input",20),i.NdJ("click",function(){i.CHM(t);const r=i.MAs(44);return e.submit(r)}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}2&t&&(i.xp6(19),i.Q6J("ngForOf",e.fileInfo),i.xp6(5),i.Q6J("formGroup",e.fileForm),i.xp6(5),i.Q6J("ngClass",i.VKq(10,b,e.fileForm.controls.name.errors&&e.checkpass)),i.xp6(1),i.Q6J("ngIf",e.fileForm.controls.name.errors),i.xp6(4),i.Q6J("ngClass",i.VKq(12,b,e.fileForm.controls.salary.errors&&e.checkpass)),i.xp6(1),i.Q6J("ngIf",e.fileForm.controls.salary.errors),i.xp6(4),i.Q6J("ngClass",i.VKq(14,b,e.fileForm.controls.class.errors&&e.checkpass)),i.xp6(1),i.Q6J("ngForOf",e.counter(12)),i.xp6(1),i.Q6J("ngIf",e.fileForm.controls.class.errors),i.xp6(5),i.s9C("value",""==e.fileForm.controls._id.value?"Add":"Update"))},directives:[n.sg,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,n.mk,n.O5,s.wV,s.EJ,s.YN,s.Kr],styles:[""]}),t})();function k(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"li",5),i.TgZ(1,"a",6),i._uU(2,"MyAccount"),i.qZA(),i.qZA(),i.TgZ(3,"li",5),i.TgZ(4,"a",7),i._uU(5,"Teachers"),i.qZA(),i.qZA(),i.TgZ(6,"li",5),i.TgZ(7,"a",8),i.NdJ("click",function(){return i.CHM(t),i.oxw()._loginauth.LoggedOut()}),i._uU(8,"Logout"),i.qZA(),i.qZA()}}function y(t,e){1&t&&(i.TgZ(0,"li",5),i.TgZ(1,"a",9),i._uU(2,"Login"),i.qZA(),i.qZA())}let U=(()=>{class t{constructor(t){this._loginauth=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(l))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-header"]],decls:7,vars:2,consts:[[1,"navbar","navbar-expand-sm","bg-dark","navbar-dark"],["href","#",1,"navbar-brand"],[1,"navbar-nav"],[3,"ngIf","ngIfElse"],["logout",""],[1,"nav-item"],["routerLink","/user/myaccount",1,"nav-link"],["routerLink","/user/teachers",1,"nav-link"],["routerLink","",1,"nav-link",3,"click"],["routerLink","/user",1,"nav-link"]],template:function(t,e){if(1&t&&(i.TgZ(0,"nav",0),i.TgZ(1,"a",1),i._uU(2,"Logo"),i.qZA(),i.TgZ(3,"ul",2),i.YNc(4,k,9,0,"ng-template",3),i.YNc(5,y,3,0,"ng-template",null,4,i.W1O),i.qZA(),i.qZA()),2&t){const t=i.MAs(6);i.xp6(4),i.Q6J("ngIf",e._loginauth.LoggedIn())("ngIfElse",t)}},directives:[n.O5,o.yS],styles:[""]}),t})(),F=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-user"]],decls:3,vars:0,consts:[[1,"abc",2,"min-height","650Px"]],template:function(t,e){1&t&&(i._UZ(0,"app-header"),i.TgZ(1,"div",0),i._UZ(2,"router-outlet"),i.qZA())},directives:[U,o.lC],styles:[""]}),t})(),I=(()=>{class t{constructor(t,e){this._loginauth=t,this._router=e}canActivate(){return!!this._loginauth.LoggedIn()||(this._router.navigate(["/user"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(l),i.LFG(o.F0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const w=[{path:"",component:F,children:[{path:"",component:f,canActivate:[(()=>{class t{constructor(t,e){this._router=t,this._loginauth=e}canActivate(){return!this._loginauth.LoggedIn()||(this._router.navigate(["/user/myaccount"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(o.F0),i.LFG(l))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()]},{path:"myaccount",component:Z,canActivate:[I]},{path:"teachers",component:T,canActivate:[I]}]}];let x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[o.Bz.forChild(w)],o.Bz]}),t})(),J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[n.ez,x,c.JF,s.UX]]}),t})()}}]);